@page "/jobs"
@page "/job-listings"
@using JobBridge.Components.Common


<div class="job-listings-container">
    <!-- Header Section -->
    <div class="listings-header">
        <div class="header-content">
            <h1 class="page-title">Find Your Dream Job</h1>
            <p class="page-subtitle">Discover opportunities that match your skills and career goals</p>
        </div>
        
        <!-- Search Section -->
        <div class="search-section">
            <SearchBar Placeholder="Search for jobs, companies, or keywords..."
                        OnSearch="HandleSearch"
                        OnAdvancedToggle="ToggleFilters" />
        </div>

        <!-- Job Stats -->
        <div class="job-stats">
            <div class="stat-card">
                <div class="stat-number">1,847</div>
                <div class="stat-label">Available Jobs</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">23</div>
                <div class="stat-label">New Today</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">156</div>
                <div class="stat-label">Featured</div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="listings-content">
        <!-- Sidebar Filters -->
        <div class="sidebar-filters">
            <div class="filter-header">
                <h3>Refine Your Search</h3>
                <button class="clear-all-btn" @onclick="ClearAllFilters">Clear All</button>
            </div>
            
            <!-- Quick Filters -->
            <div class="quick-filters">
                <h4 class="filter-section-title">Quick Filters</h4>
                <div class="filter-tags">
                    <button class="filter-tag">
                        Remote
                        <span class="tag-count">234</span>
                    </button>
                    <button class="filter-tag active">
                        Full-time
                        <span class="tag-count">567</span>
                    </button>
                    <button class="filter-tag">
                        Tech
                        <span class="tag-count">445</span>
                    </button>
                    <button class="filter-tag">
                        Entry Level
                        <span class="tag-count">123</span>
                    </button>
                </div>
            </div>

            <!-- Employment Type -->
            <div class="filter-section">
                <h4 class="filter-section-title">Employment Type</h4>
                <label class="filter-checkbox">
                    <input type="checkbox" />
                    <span class="checkbox-label">Full-time</span>
                    <span class="option-count">(1,234)</span>
                </label>
                <label class="filter-checkbox">
                    <input type="checkbox" checked />
                    <span class="checkbox-label">Part-time</span>
                    <span class="option-count">(456)</span>
                </label>
                <label class="filter-checkbox">
                    <input type="checkbox" />
                    <span class="checkbox-label">Contract</span>
                    <span class="option-count">(789)</span>
                </label>
                <label class="filter-checkbox">
                    <input type="checkbox" />
                    <span class="checkbox-label">Internship</span>
                    <span class="option-count">(234)</span>
                </label>
            </div>

            <!-- Experience Level -->
            <div class="filter-section">
                <h4 class="filter-section-title">Experience Level</h4>
                <label class="filter-checkbox">
                    <input type="checkbox" />
                    <span class="checkbox-label">Entry Level</span>
                    <span class="option-count">(567)</span>
                </label>
                <label class="filter-checkbox">
                    <input type="checkbox" />
                    <span class="checkbox-label">Mid Level</span>
                    <span class="option-count">(890)</span>
                </label>
                <label class="filter-checkbox">
                    <input type="checkbox" />
                    <span class="checkbox-label">Senior Level</span>
                    <span class="option-count">(678)</span>
                </label>
                <label class="filter-checkbox">
                    <input type="checkbox" />
                    <span class="checkbox-label">Executive</span>
                    <span class="option-count">(123)</span>
                </label>
            </div>

            <!-- Salary Range -->
            <div class="filter-section">
                <h4 class="filter-section-title">Salary Range</h4>
                <div class="salary-range">
                    <div class="salary-inputs">
                        <input type="number" class="salary-input" placeholder="Min" />
                        <span class="salary-separator">-</span>
                        <input type="number" class="salary-input" placeholder="Max" />
                    </div>
                </div>
            </div>
        </div>

        <!-- Job Results -->
        <div class="job-results">
            <!-- Results Header -->
            <div class="results-header">
                <div class="results-info">
                    <h2 class="results-title">1,247 Jobs Found</h2>
                    <p class="results-subtitle">Showing 1-12 of 1,247 jobs</p>
                </div>
                
                <div class="results-controls">
                    <div class="sort-dropdown">
                        <select class="sort-select">
                            <option value="relevance">Most Relevant</option>
                            <option value="date">Date Posted</option>
                            <option value="salary_high">Salary: High to Low</option>
                            <option value="salary_low">Salary: Low to High</option>
                            <option value="company">Company A-Z</option>
                        </select>
                    </div>
                    
                    <div class="view-toggle">
                        <button class="view-btn active">Grid</button>
                        <button class="view-btn">List</button>
                    </div>
                </div>
            </div>

            <!-- Job Cards Grid -->
            <div class="job-cards-container grid">
                <!-- Job cards will be populated by JobCard component -->
                <div class="job-cards-placeholder">
                    <p>Job cards will be displayed here using the JobCard component</p>
                </div>
            </div>

            <!-- Pagination -->
            <div class="pagination-container">
                <div class="pagination">
                    <button class="page-btn disabled">Previous</button>
                    <button class="page-btn active">1</button>
                    <button class="page-btn">2</button>
                    <button class="page-btn">3</button>
                    <button class="page-btn">4</button>
                    <button class="page-btn">5</button>
                    <button class="page-btn">Next</button>
                </div>
                
                <div class="pagination-info">
                    Page 1 of 104
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Filter Button -->
    <button class="mobile-filter-btn">
        <span class="filter-icon">Filter</span>
        <span class="filter-badge">3</span>
    </button>
</div>

<!-- Advanced Filter Panel -->
    <FilterPanel IsVisible="@showAdvancedFilters" 
                OnClose="CloseAdvancedFilters" />

@code {
    private bool showAdvancedFilters = false;

    private void HandleSearch(object searchModel)
    {
        // Search logic will be implemented when data layer is ready
    }

    private void ToggleFilters()
    {
        showAdvancedFilters = !showAdvancedFilters;
    }

    private void CloseAdvancedFilters()
    {
        showAdvancedFilters = false;
    }

    private void ClearAllFilters()
    {
        // Clear filters logic will be implemented when data layer is ready by the data team
    }
}